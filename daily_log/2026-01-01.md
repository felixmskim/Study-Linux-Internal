# 📅 2026-01-01 (리눅스 커널 분석 환경 재조정 및 빌드)

## 🎯 목표
- 리눅스 커널 소스 직접 빌드 및 동적 분석 환경으로의 전환


## 📝 학습 내용
- [이론] 커널 빌드 프로세스 이해 (Source -> Config -> Binary)
- [환경] 빌드 성능 확보를 위한 `.wslconfig` 자원 상향 조정 (2 Core -> 6 Core, 4GB -> 6GB, swap메모리 12GB 추가)
- [실습] 튜토리얼(mythos.log)을 참고하여 의존성 패키지 설치 및 `.config` 파일 준비


## 🔍 직면한 문제 & 해결 (Troubleshooting)
- **문제:** 리눅스 빌드할 때, 빌드에 필요한 커널 설정 파일을 생성해야 한다. `make menuconfig`를 통해 생성하는 방법도 있지만 나는 기존의 `config` 파일을 불러와 빌드하려고 했다. `cp /boot/config-$(uname -r) .config` 그런데 `/boot/config-$(uname -r)` 파일이 없다는 메시지가 떴다.
- **원인:** 나는 WSL2환경에서 커널 빌드를 시도했다. 일반적인 Ubuntu 같은 배포판은 커널을 설치할 때 설정 파일(config)을 `/boot` 폴더에 함께 넣어주지만, WSL2는 Microsoft가 빌드한 전용 커널을 사용한다. 그리고 그 설정 파일을 내가 검색한 위치에 두지 않는다.
- **해결:** 
  ```bash
  # 압축된 설정 파일을 풀어서 .config로 저장
  zcat /proc/config.gz > .config
  ``` 
  명령어로 해결하였다. 대부분의 WSL2 커널은 현재 실행 중인 커널 설정을 `/proc` 안에 압축해서 가지고 있다. 이를 추출해서 `.config`로 만들 수 있다.

## 💡 인사이트 (오늘 깨달은 것)
- 공부의 우선순위를 고민하자.
- 소스 외부 빌드(`O=...`) 방식을 통해 분석 환경과 빌드 환경을 분리하는 깔끔한 구조를 배웠다.
- 커널 빌드 생각보다 오래 걸리네

## 🔗 참고 자료
- [Tutorial] Linux Tutorial #0 커널 소스 빌드하기 
- [Link] https://velog.io/@mythos/Linux-Tutorial-0-%EC%BB%A4%EB%84%90-%EC%86%8C%EC%8A%A4-%EB%B9%8C%EB%93%9C%ED%95%98%EA%B8%B0